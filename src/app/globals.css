/* =====================================================================
   FINCLUE DESIGN SYSTEM v2.0 - PROFESSIONAL FINANCE TERMINAL
   Inspired by Quartr, Fiscal.ai, Bloomberg Terminal
   ===================================================================== */

   @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

   @tailwind base;
   @tailwind components;
   @tailwind utilities;
   
   /* ===== CSS VARIABLES ===== */
   :root {
     /* Typography */
     --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
     --font-mono: 'SF Mono', 'Fira Code', 'Consolas', monospace;
     
     /* Font Sizes - Tighter Scale für Data-Dense UI */
     --text-2xs: 0.625rem;   /* 10px - Micro labels */
     --text-xs: 0.6875rem;   /* 11px - Table headers, badges */
     --text-sm: 0.8125rem;   /* 13px - Body text */
     --text-base: 0.875rem;  /* 14px - Primary content */
     --text-lg: 1rem;        /* 16px - Section headers */
     --text-xl: 1.125rem;    /* 18px - Card titles */
     --text-2xl: 1.375rem;   /* 22px - Page headers */
     --text-3xl: 1.75rem;    /* 28px - Hero numbers */
     
     /* ===== LIGHT THEME - Kühler, professioneller Look ===== */
     
     /* Backgrounds - Leichter Blau-Grau-Stich */
     --color-bg-primary: #f8f9fb;          /* Kühler als Standard-Grau */
     --color-bg-card: #ffffff;
     --color-bg-hover: #f3f4f8;
     --color-bg-secondary: #eef0f4;
     --color-bg-input: #ffffff;
     --color-bg-elevated: #ffffff;
     
     /* Text - Höherer Kontrast */
     --color-text-primary: #0f172a;        /* Slate-900 */
     --color-text-secondary: #475569;      /* Slate-600 */
     --color-text-muted: #94a3b8;          /* Slate-400 */
     --color-text-faint: #cbd5e1;          /* Slate-300 - für Divider-Text */
     
     /* Borders - Sichtbar aber nicht aufdringlich */
     --color-border: #e2e8f0;              /* Slate-200 - Solid, nicht transparent */
     --color-border-light: #f1f5f9;        /* Slate-100 */
     --color-border-focus: #3b82f6;        /* Blue-500 */
     --color-divider: #e2e8f0;
     
     /* Primary Action - Professionelles Blau statt Startup-Grün */
     --color-primary: #2563eb;             /* Blue-600 */
     --color-primary-hover: #1d4ed8;       /* Blue-700 */
     --color-primary-muted: #dbeafe;       /* Blue-100 */
     
     /* Semantic Colors - Gedämpfter, weniger grell */
     --color-success: #16a34a;             /* Green-600 */
     --color-success-bg: #f0fdf4;
     --color-success-muted: #dcfce7;
     
     --color-danger: #dc2626;              /* Red-600 */
     --color-danger-bg: #fef2f2;
     --color-danger-muted: #fee2e2;
     
     --color-warning: #d97706;             /* Amber-600 */
     --color-warning-bg: #fffbeb;
     
     --color-info: #0284c7;                /* Sky-600 */
     --color-info-bg: #f0f9ff;
     
     /* Chart-Palette - Für Multi-Series Visualisierungen */
     --chart-1: #2563eb;                   /* Primary Blue */
     --chart-2: #7c3aed;                   /* Violet */
     --chart-3: #0891b2;                   /* Cyan */
     --chart-4: #059669;                   /* Emerald */
     --chart-5: #d97706;                   /* Amber */
     --chart-6: #dc2626;                   /* Red */
     --chart-positive: #16a34a;
     --chart-negative: #dc2626;
     --chart-neutral: #64748b;
     --chart-grid: #f1f5f9;
     --chart-axis: #94a3b8;
     
     /* Shadows - Minimal, nur für Elevation */
     --shadow-xs: 0 1px 2px rgba(15, 23, 42, 0.04);
     --shadow-sm: 0 1px 3px rgba(15, 23, 42, 0.06), 0 1px 2px rgba(15, 23, 42, 0.04);
     --shadow-md: 0 4px 6px -1px rgba(15, 23, 42, 0.08), 0 2px 4px -2px rgba(15, 23, 42, 0.04);
     --shadow-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.08), 0 4px 6px -4px rgba(15, 23, 42, 0.04);
     --shadow-card: 0 1px 3px rgba(15, 23, 42, 0.04);
     --shadow-dropdown: 0 4px 12px rgba(15, 23, 42, 0.12);
     
     /* Spacing - 4px Base Grid */
     --space-0: 0;
     --space-1: 0.25rem;     /* 4px */
     --space-2: 0.5rem;      /* 8px */
     --space-3: 0.75rem;     /* 12px */
     --space-4: 1rem;        /* 16px */
     --space-5: 1.25rem;     /* 20px */
     --space-6: 1.5rem;      /* 24px */
     --space-8: 2rem;        /* 32px */
     --space-10: 2.5rem;     /* 40px */
     --space-12: 3rem;       /* 48px */
     
     /* Border Radius - Schärfer für Finance */
     --radius-xs: 0.125rem;  /* 2px - Pills, tags */
     --radius-sm: 0.25rem;   /* 4px - Buttons, inputs */
     --radius-md: 0.375rem;  /* 6px - Cards */
     --radius-lg: 0.5rem;    /* 8px - Modals */
     --radius-full: 9999px;
     
     /* Transitions */
     --transition-fast: 100ms ease;
     --transition-base: 150ms ease;
     --transition-slow: 200ms ease;
   }
   
   /* ===== DARK THEME ===== */
   .dark {
     /* Backgrounds - Echtes Schwarz mit Tiefe */
     --color-bg-primary: #09090b;          /* Zinc-950 */
     --color-bg-card: #18181b;             /* Zinc-900 */
     --color-bg-hover: #27272a;            /* Zinc-800 */
     --color-bg-secondary: #27272a;
     --color-bg-input: #18181b;
     --color-bg-elevated: #1f1f23;
     
     /* Sidebar */
     --color-sidebar-bg: #0f0f12;
     --color-sidebar-hover: rgba(255, 255, 255, 0.04);
     --color-sidebar-active: rgba(255, 255, 255, 0.08);
     
     /* Text */
     --color-text-primary: #fafafa;        /* Zinc-50 */
     --color-text-secondary: #a1a1aa;      /* Zinc-400 */
     --color-text-muted: #71717a;          /* Zinc-500 */
     --color-text-faint: #52525b;          /* Zinc-600 */
     
     /* Borders */
     --color-border: #27272a;              /* Zinc-800 */
     --color-border-light: #1f1f23;
     --color-border-focus: #3b82f6;
     --color-divider: #27272a;
     
     /* Primary */
     --color-primary: #3b82f6;             /* Blue-500 - heller im Dark Mode */
     --color-primary-hover: #60a5fa;       /* Blue-400 */
     --color-primary-muted: rgba(59, 130, 246, 0.15);
     
     /* Semantic - Angepasst für Dark */
     --color-success: #22c55e;             /* Green-500 */
     --color-success-bg: rgba(34, 197, 94, 0.1);
     --color-success-muted: rgba(34, 197, 94, 0.2);
     
     --color-danger: #ef4444;              /* Red-500 */
     --color-danger-bg: rgba(239, 68, 68, 0.1);
     --color-danger-muted: rgba(239, 68, 68, 0.2);
     
     --color-warning: #f59e0b;
     --color-warning-bg: rgba(245, 158, 11, 0.1);
     
     --color-info: #0ea5e9;
     --color-info-bg: rgba(14, 165, 233, 0.1);
     
     /* Charts - Leicht heller im Dark Mode */
     --chart-1: #3b82f6;
     --chart-2: #8b5cf6;
     --chart-3: #06b6d4;
     --chart-4: #10b981;
     --chart-5: #f59e0b;
     --chart-6: #ef4444;
     --chart-positive: #22c55e;
     --chart-negative: #ef4444;
     --chart-neutral: #71717a;
     --chart-grid: #27272a;
     --chart-axis: #52525b;
     
     /* Shadows - Minimal im Dark Mode */
     --shadow-xs: none;
     --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
     --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
     --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
     --shadow-card: none;
     --shadow-dropdown: 0 4px 12px rgba(0, 0, 0, 0.5);
   }
   
   /* ===== BASE STYLES ===== */
   *, *::before, *::after {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
   }
   
   html {
     font-size: 16px;
     scroll-behavior: smooth;
     text-rendering: optimizeLegibility;
     -webkit-font-smoothing: antialiased;
     -moz-osx-font-smoothing: grayscale;
   }
   
   body {
     font-family: var(--font-sans);
     font-size: var(--text-sm);
     line-height: 1.5;
     font-weight: 400;
     background-color: var(--color-bg-primary);
     color: var(--color-text-primary);
     font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
   }
   
   /* ===== NUMERIC TYPOGRAPHY - Kritisch für Finance ===== */
   .tabular-nums {
     font-variant-numeric: tabular-nums;
     font-feature-settings: 'tnum';
   }
   
   .font-mono {
     font-family: var(--font-mono);
   }
   
   /* Alle Zahlen in Tabellen automatisch tabular */
   td, .metric-value, .price, .percentage, .currency {
     font-variant-numeric: tabular-nums;
     font-feature-settings: 'tnum';
   }
   
   /* ===== THEME UTILITY CLASSES ===== */
   .bg-theme-primary { background-color: var(--color-bg-primary); }
   .bg-theme-card { background-color: var(--color-bg-card); }
   .bg-theme-hover { background-color: var(--color-bg-hover); }
   .bg-theme-secondary { background-color: var(--color-bg-secondary); }
   .bg-theme-input { background-color: var(--color-bg-input); }
   .bg-theme-elevated { background-color: var(--color-bg-elevated); }
   
   .text-theme-primary { color: var(--color-text-primary); }
   .text-theme-secondary { color: var(--color-text-secondary); }
   .text-theme-muted { color: var(--color-text-muted); }
   
   .border-theme { border-color: var(--color-border); }
   .border-theme-light { border-color: var(--color-border-light); }
   .divide-theme > * + * { border-color: var(--color-divider); }
   
   /* ===== TYPOGRAPHY SCALE ===== */
   h1, h2, h3, h4, h5, h6 {
     font-weight: 600;
     line-height: 1.25;
     color: var(--color-text-primary);
     letter-spacing: -0.01em;
   }
   
   h1 { font-size: var(--text-2xl); }
   h2 { font-size: var(--text-xl); }
   h3 { font-size: var(--text-lg); }
   h4 { font-size: var(--text-base); }
   h5, h6 { font-size: var(--text-sm); }
   
   /* Section Headers - Wie Fiscal.ai */
   .section-title {
     font-size: var(--text-xs);
     font-weight: 500;
     text-transform: uppercase;
     letter-spacing: 0.05em;
     color: var(--color-text-muted);
   }
   
   /* ===== CARDS ===== */
   .card {
     background-color: var(--color-bg-card);
     border: 1px solid var(--color-border);
     border-radius: var(--radius-md);
     box-shadow: var(--shadow-card);
   }
   
   .card-padded {
     padding: var(--space-5);
   }
   
   .card-compact {
     padding: var(--space-4);
   }
   
   .card-hover {
     transition: background-color var(--transition-fast), 
                 border-color var(--transition-fast);
   }
   
   .card-hover:hover {
     background-color: var(--color-bg-hover);
   }
   
   /* Dark Mode: Border statt Shadow */
   .dark .card {
     box-shadow: none;
     border: 1px solid var(--color-border);
   }
   
   /* ===== TABLES - Data-Dense Finance Style ===== */
   .data-table {
     width: 100%;
     border-collapse: collapse;
     font-size: var(--text-sm);
   }
   
   .data-table thead {
     position: sticky;
     top: 0;
     background-color: var(--color-bg-card);
     z-index: 10;
   }
   
   .data-table th {
     padding: var(--space-3) var(--space-4);
     text-align: left;
     font-size: var(--text-xs);
     font-weight: 500;
     text-transform: uppercase;
     letter-spacing: 0.04em;
     color: var(--color-text-muted);
     border-bottom: 1px solid var(--color-border);
     white-space: nowrap;
   }
   
   .data-table th.text-right,
   .data-table td.text-right {
     text-align: right;
   }
   
   .data-table td {
     padding: var(--space-3) var(--space-4);
     color: var(--color-text-primary);
     border-bottom: 1px solid var(--color-border-light);
     vertical-align: middle;
   }
   
   .data-table tbody tr {
     transition: background-color var(--transition-fast);
   }
   
   .data-table tbody tr:hover {
     background-color: var(--color-bg-hover);
   }
   
   .data-table tbody tr:last-child td {
     border-bottom: none;
   }
   
   /* Compact Table Variant */
   .data-table-compact th,
   .data-table-compact td {
     padding: var(--space-2) var(--space-3);
   }
   
   /* ===== METRICS / KPIs ===== */
   .metric {
     display: flex;
     flex-direction: column;
     gap: var(--space-1);
   }
   
   .metric-label {
     font-size: var(--text-xs);
     font-weight: 500;
     text-transform: uppercase;
     letter-spacing: 0.04em;
     color: var(--color-text-muted);
   }
   
   .metric-value {
     font-size: var(--text-xl);
     font-weight: 600;
     color: var(--color-text-primary);
     line-height: 1.2;
   }
   
   .metric-value-lg {
     font-size: var(--text-2xl);
   }
   
   .metric-value-sm {
     font-size: var(--text-lg);
   }
   
   .metric-change {
     font-size: var(--text-xs);
     font-weight: 500;
   }
   
   .metric-change.positive {
     color: var(--color-success);
   }
   
   .metric-change.negative {
     color: var(--color-danger);
   }
   
   /* ===== BADGES / TAGS ===== */
   .badge {
     display: inline-flex;
     align-items: center;
     padding: var(--space-1) var(--space-2);
     font-size: var(--text-2xs);
     font-weight: 500;
     border-radius: var(--radius-xs);
     text-transform: uppercase;
     letter-spacing: 0.03em;
   }
   
   .badge-success {
     background-color: var(--color-success-muted);
     color: var(--color-success);
   }
   
   .badge-danger {
     background-color: var(--color-danger-muted);
     color: var(--color-danger);
   }
   
   .badge-warning {
     background-color: var(--color-warning-bg);
     color: var(--color-warning);
   }
   
   .badge-neutral {
     background-color: var(--color-bg-secondary);
     color: var(--color-text-secondary);
   }
   
   .badge-premium {
     background-color: transparent;
     color: var(--color-text-muted);
     border: 1px solid var(--color-border);
   }
   
   /* ===== BUTTONS ===== */
   .btn {
     display: inline-flex;
     align-items: center;
     justify-content: center;
     gap: var(--space-2);
     padding: var(--space-2) var(--space-4);
     font-size: var(--text-sm);
     font-weight: 500;
     border-radius: var(--radius-sm);
     border: none;
     cursor: pointer;
     transition: all var(--transition-fast);
     white-space: nowrap;
   }
   
   .btn:disabled {
     opacity: 0.5;
     cursor: not-allowed;
   }
   
   .btn-primary {
     background-color: var(--color-primary);
     color: white;
   }
   
   .btn-primary:hover:not(:disabled) {
     background-color: var(--color-primary-hover);
   }
   
   .btn-secondary {
     background-color: transparent;
     color: var(--color-text-secondary);
     border: 1px solid var(--color-border);
   }
   
   .btn-secondary:hover:not(:disabled) {
     background-color: var(--color-bg-hover);
     color: var(--color-text-primary);
   }
   
   .btn-ghost {
     background-color: transparent;
     color: var(--color-text-secondary);
   }
   
   .btn-ghost:hover:not(:disabled) {
     background-color: var(--color-bg-hover);
     color: var(--color-text-primary);
   }
   
   .btn-sm {
     padding: var(--space-1) var(--space-3);
     font-size: var(--text-xs);
   }
   
   .btn-lg {
     padding: var(--space-3) var(--space-6);
     font-size: var(--text-base);
   }
   
   /* ===== FORM INPUTS ===== */
   .input {
     width: 100%;
     padding: var(--space-2) var(--space-3);
     font-size: var(--text-sm);
     background-color: var(--color-bg-input);
     color: var(--color-text-primary);
     border: 1px solid var(--color-border);
     border-radius: var(--radius-sm);
     transition: border-color var(--transition-fast), 
                 box-shadow var(--transition-fast);
   }
   
   .input::placeholder {
     color: var(--color-text-muted);
   }
   
   .input:focus {
     outline: none;
     border-color: var(--color-border-focus);
     box-shadow: 0 0 0 3px var(--color-primary-muted);
   }
   
   .input:disabled {
     background-color: var(--color-bg-secondary);
     cursor: not-allowed;
   }
   
   /* Select */
   .select {
     appearance: none;
     background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E");
     background-position: right var(--space-2) center;
     background-repeat: no-repeat;
     background-size: 1.25em 1.25em;
     padding-right: var(--space-8);
   }
   
   /* Label */
   .label {
     display: block;
     font-size: var(--text-xs);
     font-weight: 500;
     color: var(--color-text-secondary);
     margin-bottom: var(--space-1);
   }
   
   /* Autofill Fix */
   input:-webkit-autofill,
   input:-webkit-autofill:hover,
   input:-webkit-autofill:focus {
     -webkit-text-fill-color: var(--color-text-primary);
     -webkit-box-shadow: 0 0 0px 1000px var(--color-bg-input) inset;
     transition: background-color 5000s ease-in-out 0s;
   }
   
   /* Date Input */
   input[type="date"]::-webkit-calendar-picker-indicator {
     filter: invert(0.5);
     cursor: pointer;
   }
   
   .dark input[type="date"]::-webkit-calendar-picker-indicator {
     filter: invert(0.7);
   }
   
   /* ===== RECHARTS - Optimiert ===== */
   .recharts-wrapper {
     width: 100% !important;
     height: 100% !important;
   }
   
   .recharts-cartesian-axis-tick-value {
     font-size: 10px !important;
     fill: var(--chart-axis) !important;
     font-weight: 400 !important;
     font-family: var(--font-sans) !important;
   }
   
   .recharts-default-tooltip {
     background: var(--color-bg-card) !important;
     border: 1px solid var(--color-border) !important;
     border-radius: var(--radius-sm) !important;
     padding: var(--space-2) var(--space-3) !important;
     box-shadow: var(--shadow-dropdown) !important;
     font-size: var(--text-xs) !important;
   }
   
   .recharts-tooltip-label {
     color: var(--color-text-primary) !important;
     font-weight: 500 !important;
     margin-bottom: var(--space-1) !important;
   }
   
   .recharts-cartesian-grid line {
     stroke: var(--chart-grid) !important;
     stroke-width: 1 !important;
   }
   
   .recharts-reference-line line {
     stroke: var(--color-border) !important;
   }
   
   /* Area/Line Chart Gradients */
   .chart-gradient-positive {
     stop-color: var(--chart-positive);
   }
   
   .chart-gradient-negative {
     stop-color: var(--chart-negative);
   }
   
   /* ===== SCROLLBARS ===== */
   .scrollbar-thin {
     scrollbar-width: thin;
     scrollbar-color: var(--color-text-muted) transparent;
   }
   
   .scrollbar-thin::-webkit-scrollbar {
     width: 6px;
     height: 6px;
   }
   
   .scrollbar-thin::-webkit-scrollbar-track {
     background: transparent;
   }
   
   .scrollbar-thin::-webkit-scrollbar-thumb {
     background: var(--color-text-muted);
     border-radius: 3px;
     opacity: 0.5;
   }
   
   .scrollbar-thin::-webkit-scrollbar-thumb:hover {
     background: var(--color-text-secondary);
   }
   
   .scrollbar-none {
     scrollbar-width: none;
     -ms-overflow-style: none;
   }
   
   .scrollbar-none::-webkit-scrollbar {
     display: none;
   }
   
   /* ===== DIVIDERS ===== */
   .divider {
     height: 1px;
     background-color: var(--color-divider);
     border: none;
     margin: var(--space-4) 0;
   }
   
   .divider-vertical {
     width: 1px;
     height: 100%;
     background-color: var(--color-divider);
   }
   
   /* ===== LOADING STATES ===== */
   .skeleton {
     background: linear-gradient(
       90deg,
       var(--color-bg-secondary) 25%,
       var(--color-bg-hover) 50%,
       var(--color-bg-secondary) 75%
     );
     background-size: 200% 100%;
     animation: skeleton-shimmer 1.5s ease-in-out infinite;
     border-radius: var(--radius-sm);
   }
   
   @keyframes skeleton-shimmer {
     0% { background-position: 200% 0; }
     100% { background-position: -200% 0; }
   }
   
   @keyframes spin {
     from { transform: rotate(0deg); }
     to { transform: rotate(360deg); }
   }
   
   .animate-spin {
     animation: spin 1s linear infinite !important;
   }
   
   @keyframes fadeIn {
     from { opacity: 0; }
     to { opacity: 1; }
   }
   
   .animate-fadeIn {
     animation: fadeIn 0.15s ease-out;
   }
   
   /* ===== FOCUS & ACCESSIBILITY ===== */
   :focus-visible {
     outline: 2px solid var(--color-primary);
     outline-offset: 2px;
     border-radius: var(--radius-xs);
   }
   
   ::selection {
     background-color: var(--color-primary);
     color: white;
   }
   
   @media (prefers-reduced-motion: reduce) {
     *:not(.animate-spin) {
       animation-duration: 0.01ms !important;
       transition-duration: 0.01ms !important;
     }
   }
   
   /* ===== RESPONSIVE ADJUSTMENTS ===== */
   @media (max-width: 768px) {
     html {
       font-size: 15px;
     }
     
     .card-padded {
       padding: var(--space-4);
     }
     
     .data-table th,
     .data-table td {
       padding: var(--space-2) var(--space-3);
     }
   }
   
   /* ===== UTILITY CLASSES ===== */
   
   /* Text Truncation */
   .truncate {
     overflow: hidden;
     text-overflow: ellipsis;
     white-space: nowrap;
   }
   
   .line-clamp-2 {
     display: -webkit-box;
     -webkit-line-clamp: 2;
     -webkit-box-orient: vertical;
     overflow: hidden;
   }
   
   /* Positive/Negative Colors */
   .text-positive { color: var(--color-success); }
   .text-negative { color: var(--color-danger); }
   .text-warning { color: var(--color-warning); }
   
   .bg-positive { background-color: var(--color-success-bg); }
   .bg-negative { background-color: var(--color-danger-bg); }
   
   /* Ring for Focus States */
   .ring-focus:focus {
     box-shadow: 0 0 0 3px var(--color-primary-muted);
   }
   
   /* Hide but keep accessible */
   .sr-only {
     position: absolute;
     width: 1px;
     height: 1px;
     padding: 0;
     margin: -1px;
     overflow: hidden;
     clip: rect(0, 0, 0, 0);
     white-space: nowrap;
     border: 0;
   }